# matplotlib
## matplotlib.cm
提供一系列颜色映射函数，可以将数值映射到颜色中，实现数据可视化。通常作为参数使用。
### 颜色映射模块
1. viridis
一种从深蓝色到黄色的颜色映射，通常用于温度图或流场图。
```Python
def fun_cm():  
    x = np.linspace(0, np.pi * 2, 100)  
    y = np.linspace(0, np.pi * 2, 100).reshape(-1, 1)  
    z = np.sin(x) + np.cos(y)  
    fig, ax = plt.subplots()  
    im = ax.imshow(z, cmap='viridis')  
    fig.colorbar(im)  
    plt.show()
```

2. plasma
一种从暗紫色到亮黄色的颜色映射，通常用于高对比度的数据可视化。
3. cool
一种从蓝色到青色的颜色映射，通常用于温度变化的可视化。
4. coolwarm
5. inferno
6. cividis
7. rainbow
## matplotlib.pyplot
### 简单使用
#### Figure和Subplots
```python
fig = plt.figure()
```
创建一个画板，不能用空 $Figure$ 画图，必须使用 $add\_subplot()$ 创建。
```python
fig = plt.figure()  
ax1 = fig.add_subplot(2, 2, 1)  
ax2 = fig.add_subplot(2, 2, 2)  
ax3 = fig.add_subplot(2, 2, 3)
```
创建 $2\times 2$ 个图像，默认在第三个图像绘图。
使用 $AxesSubPlots$ 可以在对应地点绘图。
```python
fig, ax = plt.subplots(2, 3)
```
创建一个 $Figure$ ，并返回已创建的 $Subplots$ 对象的数组。
有关该方法的信息：
```python
def subplots(nrows=1, ncols=1, *, sharex=False, sharey=False, squeeze=True,  
             width_ratios=None, height_ratios=None,  
             subplot_kw=None, gridspec_kw=None, **fig_kw)
# 行数，列数，是否使用相同的x刻度/y刻度
# subplot_kw：关键字字典
```
#### 间距
调整 $subplots$ 之间的间距：
```python
fig.subplots_adjust(wspace=0.3, hspace=0.3)
```
```python
def subplots_adjust(self, left=None, bottom=None, right=None, top=None,  
                    wspace=None, hspace=None)
# wspace 宽度百分比
# hspace 高度百分比
```
示例
```python
fig, axes = plt.subplots(2, 2, sharex=True, sharey=True)  
for i in range(2):  
    for j in range(2):  
        axes[i, j].hist(np.random.standard_normal(500), bins=50,  
                        color="black", alpha=0.5)  
fig.subplots_adjust(wspace=0, hspace=0)  
plt.show()
```
#### 颜色，标记和线型
```python
fig = plt.figure()  
ax = fig.add_subplot(2, 2, 1)  
ax.plot(np.random.standard_normal(50).cumsum(), linestyle='--', color='black')  
plt.show()
```
#### 刻度，标签和图例
刻度和标签
```python
fig, ax = plt.subplots()  
ax.plot(np.random.standard_normal(1000).cumsum(), linestyle='--', color='black')  
# 设置刻度
ticks = ax.set_xticks([0, 250, 500, 750, 1000])  
# x轴标签
labels = ax.set_xticklabels(["one", "two", "three", "four", "five"],  
                            rotation=30, fontsize=8)  
ax.set_title('Plot')  
ax.set_xlabel('stage')
plt.show()
```
图例
```python
fig, ax = plt.subplots()  
ax.plot(np.random.randn(1000).cumsum(), color="black", label="one")  
ax.plot(np.random.randn(1000).cumsum(), color="black", linestyle="dashed", label="two")  
ax.plot(np.random.randn(1000).cumsum(), color="black", linestyle="dotted", label="three")  
# 添加图例  
ax.legend(loc='best')  
plt.show()
```
#### 注解
```python
fig, ax = plt.subplots()  
data = pd.read_csv("stock_px.csv", parse_dates=True, index_col=0)  
spx = data['SPX']  
spx.plot(ax=ax, color='black')  
crisis_data = [  
    (datetime(2007, 10, 11), 'Peak of bull market'),  
    (datetime(2008, 3, 12), 'bear Stearn Fails'),  
    (datetime(2008, 9, 15), 'Lehman Bankruptcy')  
]  
  
for date, label in crisis_data:  
    ax.annotate(label, xy=(date, spx.asof(date) + 75),  
                xytext=(date, spx.asof(date) + 225),  
                arrowprops=dict(facecolor="black", headwidth=4, width=2,  
                                headlength=4),  
                horizontalalignment="left", verticalalignment="top")  
  
# Zoom in on 2007-2010  
ax.set_xlim(["1/1/2007", "1/1/2011"])  
ax.set_ylim([600, 1800])  
  
ax.set_title("Important dates in the 2008–2009 financial crisis")  
plt.show()
```

